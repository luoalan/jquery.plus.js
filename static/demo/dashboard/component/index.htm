<style>
{
  @header-height:50px;
  color:#35414f;box-sizing:border-box;height:100%;padding-top:@header-height/*keep header on head*/;min-width:1000px;
  *{box-sizing:inherit;margin:0;padding:0;}

  >header{height:@header-height;position:absolute;top:0;width:100%;background:#2b3642;color:#999999;}
  >.body{display:table;width:100%;height:100%;background:#35414f;border-collapse:collapse;
    >.cell{vertical-align:top;display:table-cell;
      .cell-wrap{height:100%;overflow-x:hidden;overflow-y:scroll;
        &::-webkit-scrollbar{width:6px;}
        &::-webkit-scrollbar-thumb{background:rgba(0,0,0,.6);border-radius:3px;}
      }
    }
    >nav{width:20%;
    }
    >div{background:#f1f3fa;
    }
  }
}
</style>

<div>
  <header><div component="./header.htm" version="ENV.version"></div></header>
  <div class="body">
    <nav class="cell">
      <div class="cell-wrap nav-wrap">
        <div component="./nav.htm" version="ENV.version"></div>
      </div>
    </nav>
    <div class="cell">
      <div class="cell-wrap board-wrap">
        <div component="./main.htm" version="ENV.version"></div>
        <div component="./footer.htm" version="ENV.version"></div>
      </div>
    </div>
  </div>
</div>

<script>
me.render();
var header = me.find('>header');
var body = me.find('>.body');
var wrap = body.find('>.cell>.cell-wrap')

var header_height = header.height();
var old_height = 0;

$(resetWrapHeight);
$(window).on('resize',resetWrapHeight);

me.on('destroy',function(){
  $(window).off('resize',resetWrapHeight);
});

function resetWrapHeight(){
  var new_height = $(window).height()-header_height;
  if(new_height==old_height){return;}
  wrap.css('height',new_height);
  old_height = new_height;
}
</script>
